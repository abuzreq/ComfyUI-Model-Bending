{"last_node_id":46,"last_link_id":139,"nodes":[{"id":20,"type":"CheckpointLoaderSimple","pos":[-310.18402099609375,-178.7617950439453],"size":[343.69647216796875,98],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","localized_name":"MODEL","type":"MODEL","shape":3,"links":[45,64],"slot_index":0},{"name":"CLIP","localized_name":"CLIP","type":"CLIP","shape":3,"links":[38,39],"slot_index":1},{"name":"VAE","localized_name":"VAE","type":"VAE","shape":3,"links":[40,85],"slot_index":2}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sd_xl_turbo_1.0_fp16.safetensors"]},{"id":6,"type":"CLIPTextEncode","pos":[148.8450164794922,17.656267166137695],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":8,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":38,"slot_index":0}],"outputs":[{"name":"CONDITIONING","localized_name":"CONDITIONING","type":"CONDITIONING","links":[19,124],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"CLIPTextEncode"},"widgets_values":["analog style portrait of a person"]},{"id":7,"type":"CLIPTextEncode","pos":[149.8450164794922,238.65618896484375],"size":[425.27801513671875,180.6060791015625],"flags":{},"order":9,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":39}],"outputs":[{"name":"CONDITIONING","localized_name":"CONDITIONING","type":"CONDITIONING","links":[20,125],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"CLIPTextEncode"},"widgets_values":["blurry, low-fidelity"]},{"id":14,"type":"KSamplerSelect","pos":[205.0635528564453,-187.83580017089844],"size":[315,58],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"SAMPLER","localized_name":"SAMPLER","type":"SAMPLER","shape":3,"links":[18,126],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"KSamplerSelect"},"widgets_values":["euler_ancestral"]},{"id":41,"type":"Compute PCA","pos":[843.9041748046875,-643.610595703125],"size":[315,182],"flags":{},"order":10,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":123},{"name":"positive","localized_name":"positive","type":"CONDITIONING","link":124},{"name":"negative","localized_name":"negative","type":"CONDITIONING","link":125},{"name":"sampler","localized_name":"sampler","type":"SAMPLER","link":126},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","link":127},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","link":128}],"outputs":[{"name":"PCS","localized_name":"PCS","type":"LATENT","links":[130],"slot_index":0},{"name":"Samples","localized_name":"Samples","type":"LATENT","links":[129],"slot_index":1}],"properties":{"cnr_id":"ComfyUI-Model-Bending","ver":"806f0c55244ee1cd4c0a0b78415ebea2885f3b4e","Node name for S&R":"Compute PCA"},"widgets_values":[1,100]},{"id":33,"type":"EmptyLatentImage","pos":[261.73736572265625,-600.0270385742188],"size":[315,106],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"LATENT","localized_name":"LATENT","type":"LATENT","links":[128],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,512,1]},{"id":22,"type":"SDTurboScheduler","pos":[244.97415161132812,-380.9731140136719],"size":[315,82],"flags":{},"order":6,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":45,"slot_index":0}],"outputs":[{"name":"SIGMAS","localized_name":"SIGMAS","type":"SIGMAS","shape":3,"links":[49,127],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"SDTurboScheduler"},"widgets_values":[5,1]},{"id":31,"type":"Reroute","pos":[933.2820434570312,-368.0643615722656],"size":[82,26],"flags":{},"order":7,"mode":0,"inputs":[{"name":"","type":"*","link":64}],"outputs":[{"name":"MODEL","type":"MODEL","links":[66,123],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":13,"type":"SamplerCustom","pos":[1420.6475830078125,-223.36012268066406],"size":[355.20001220703125,230],"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":139,"slot_index":0},{"name":"positive","localized_name":"positive","type":"CONDITIONING","link":19,"slot_index":1},{"name":"negative","localized_name":"negative","type":"CONDITIONING","link":20},{"name":"sampler","localized_name":"sampler","type":"SAMPLER","link":18,"slot_index":3},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","link":49,"slot_index":4},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","link":23,"slot_index":5}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","shape":3,"links":[28],"slot_index":0},{"name":"denoised_output","localized_name":"denoised_output","type":"LATENT","shape":3,"links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"SamplerCustom"},"widgets_values":[true,0,"fixed",1]},{"id":25,"type":"PreviewImage","pos":[2309.0390625,-326.891845703125],"size":[501.69647216796875,541.9198608398438],"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":53}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":8,"type":"VAEDecode","pos":[1960.3482666015625,-180.98907470703125],"size":[210,46],"flags":{},"order":15,"mode":0,"inputs":[{"name":"samples","localized_name":"samples","type":"LATENT","link":28},{"name":"vae","localized_name":"vae","type":"VAE","link":40,"slot_index":1}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[53],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":5,"type":"EmptyLatentImage","pos":[996.9386596679688,149.92018127441406],"size":[315,106],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"LATENT","localized_name":"LATENT","type":"LATENT","links":[23],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,512,1]},{"id":36,"type":"VAEDecode","pos":[1419.2774658203125,-625.504150390625],"size":[210,46],"flags":{},"order":12,"mode":0,"inputs":[{"name":"samples","localized_name":"samples","type":"LATENT","link":129},{"name":"vae","localized_name":"vae","type":"VAE","link":85}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[84],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":35,"type":"PreviewImage","pos":[1782.802490234375,-704.4984741210938],"size":[210,246],"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":84}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":29,"type":"HSpace Bending","pos":[1276.5224609375,-490.8420104980469],"size":[315,102],"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":66},{"name":"pcs","localized_name":"pcs","type":"LATENT","link":130}],"outputs":[{"name":"MODEL","localized_name":"MODEL","type":"MODEL","links":[139],"slot_index":0}],"properties":{"cnr_id":"ComfyUI-Model-Bending","ver":"806f0c55244ee1cd4c0a0b78415ebea2885f3b4e","Node name for S&R":"HSpace Bending"},"widgets_values":[0,2000]},{"id":46,"type":"Note","pos":[603.3602294921875,-972.569091796875],"size":[808.022216796875,237.3763427734375],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This is based on the paper:\n\nHaas, Ren√©, et al. \"Discovering interpretable directions in the semantic latent space of diffusion models.\" 2024 IEEE 18th International Conference on Automatic Face and Gesture Recognition (FG). IEEE, 2024.\n\nIt computed PCA in the H-Space (bottleneck) of the UNet model and uses the principal components to move around in a semantic space. The higher the number of batches, the better the performance theoretically."],"color":"#432","bgcolor":"#653"},{"id":45,"type":"Note","pos":[-116.47948455810547,66.47980499267578],"size":[210,88],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["beautiful landscape scenery glass bottle with a galaxy inside cute fennec fox snow HDR sunset"],"color":"#432","bgcolor":"#653"}],"links":[[18,14,0,13,3,"SAMPLER"],[19,6,0,13,1,"CONDITIONING"],[20,7,0,13,2,"CONDITIONING"],[23,5,0,13,5,"LATENT"],[28,13,0,8,0,"LATENT"],[38,20,1,6,0,"CLIP"],[39,20,1,7,0,"CLIP"],[40,20,2,8,1,"VAE"],[45,20,0,22,0,"MODEL"],[49,22,0,13,4,"SIGMAS"],[53,8,0,25,0,"IMAGE"],[64,20,0,31,0,"*"],[66,31,0,29,0,"MODEL"],[84,36,0,35,0,"IMAGE"],[85,20,2,36,1,"VAE"],[123,31,0,41,0,"MODEL"],[124,6,0,41,1,"CONDITIONING"],[125,7,0,41,2,"CONDITIONING"],[126,14,0,41,3,"SAMPLER"],[127,22,0,41,4,"SIGMAS"],[128,33,0,41,5,"LATENT"],[129,41,1,36,0,"LATENT"],[130,41,0,29,1,"LATENT"],[139,29,0,13,0,"MODEL"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.8458850768609203,"offset":[513.7328575665068,232.2430945621481]}},"version":0.4}